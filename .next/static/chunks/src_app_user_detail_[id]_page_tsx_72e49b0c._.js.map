{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/src/app/user/detail/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\ninterface Product {\r\n  _id: string;\r\n  name: string;\r\n  price: number;\r\n  description: string;\r\n  images: string[];\r\n}\r\n\r\n// Hàm định dạng giá tiền\r\nconst formatPrice = (price: number): string => {\r\n  return price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\") + \"đ\";\r\n};\r\n\r\n// Chuẩn hóa đường dẫn ảnh\r\nconst getImageUrl = (image: string): string => {\r\n  if (image.startsWith(\"/\")) return image;\r\n  return `/images/${image}`;\r\n};\r\n\r\nexport default function DetailPage() {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const res = await fetch(`https://db-pure-bonanica.onrender.com/products/${id}`);\r\n        const data = await res.json();\r\n        setProduct(data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi tải chi tiết sản phẩm:\", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) fetchProduct();\r\n  }, [id]);\r\n\r\n  if (loading) return <p className=\"text-center py-10\">Đang tải chi tiết sản phẩm...</p>;\r\n\r\n  if (!product) return <p className=\"text-center py-10\">Không tìm thấy sản phẩm.</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-6 py-10\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n        <div>\r\n          <Image\r\n            src={getImageUrl(product.images?.[0] || \"\")}\r\n            alt={product.name}\r\n            width={600}\r\n            height={400}\r\n            className=\"w-full h-auto object-cover rounded\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-800\">{product.name}</h1>\r\n          <p className=\"text-2xl text-red-500 font-semibold mt-4\">{formatPrice(product.price)}</p>\r\n          <p className=\"text-gray-700 mt-6\">{product.description || \"Chưa có mô tả cho sản phẩm này.\"}</p>\r\n          <button className=\"mt-6 px-6 py-3 bg-green-600 text-white rounded hover:bg-green-700 transition\">\r\n            <i className=\"fas fa-shopping-cart mr-2\"></i> Thêm vào giỏ hàng\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAaA,yBAAyB;AACzB,MAAM,cAAc,CAAC;IACnB,OAAO,MAAM,QAAQ,GAAG,OAAO,CAAC,yBAAyB,OAAO;AAClE;AAEA,0BAA0B;AAC1B,MAAM,cAAc,CAAC;IACnB,IAAI,MAAM,UAAU,CAAC,MAAM,OAAO;IAClC,OAAO,CAAC,QAAQ,EAAE,OAAO;AAC3B;AAEe,SAAS;;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;qDAAe;oBACnB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,CAAC,+CAA+C,EAAE,IAAI;wBAC9E,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,WAAW;wBACX,WAAW;oBACb,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,kCAAkC;wBAChD,WAAW;oBACb;gBACF;;YAEA,IAAI,IAAI;QACV;+BAAG;QAAC;KAAG;IAEP,IAAI,SAAS,qBAAO,6LAAC;QAAE,WAAU;kBAAoB;;;;;;IAErD,IAAI,CAAC,SAAS,qBAAO,6LAAC;QAAE,WAAU;kBAAoB;;;;;;IAEtD,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;8BACC,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,YAAY,QAAQ,MAAM,EAAE,CAAC,EAAE,IAAI;wBACxC,KAAK,QAAQ,IAAI;wBACjB,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;8BAGd,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAAoC,QAAQ,IAAI;;;;;;sCAC9D,6LAAC;4BAAE,WAAU;sCAA4C,YAAY,QAAQ,KAAK;;;;;;sCAClF,6LAAC;4BAAE,WAAU;sCAAsB,QAAQ,WAAW,IAAI;;;;;;sCAC1D,6LAAC;4BAAO,WAAU;;8CAChB,6LAAC;oCAAE,WAAU;;;;;;gCAAgC;;;;;;;;;;;;;;;;;;;;;;;;AAMzD;GAhDwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}