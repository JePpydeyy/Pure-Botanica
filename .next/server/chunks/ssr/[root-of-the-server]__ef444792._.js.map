{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/src/app/admin/add_product/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"../add_product/add_product.css\";\r\n\r\nconst AddProduct = () => {\r\n  const [categories, setCategories] = useState<any[]>([]);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    discountPrice: \"\",\r\n    category: \"\",\r\n    description: \"\",\r\n    ingredients: \"\",\r\n    usage_instructions: \"\",\r\n    special: \"\",\r\n    stock: \"\",\r\n    images: [] as File[],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await fetch(\"https://api-zeal.onrender.com/api/categories\");\r\n        const data = await response.json();\r\n        setCategories(data);\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi tải danh mục:\", error);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSelectChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      const files = Array.from(e.target.files);\r\n      if (files.length + formData.images.length > 4) {\r\n        alert(\"Chỉ được chọn tối đa 4 ảnh.\");\r\n        return;\r\n      }\r\n      setFormData((prevState) => ({\r\n        ...prevState,\r\n        images: [...prevState.images, ...files],\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const productData = new FormData();\r\n      productData.append(\"name\", formData.name);\r\n      productData.append(\"price\", formData.price);\r\n\r\n      // Thêm discountPrice nếu có\r\n      if (formData.discountPrice.trim() !== \"\") {\r\n        productData.append(\"discountPrice\", String(Number(formData.discountPrice)));\r\n      }\r\n\r\n      productData.append(\"category\", formData.category);\r\n      productData.append(\"description\", formData.description);\r\n      productData.append(\"stock\", formData.stock);\r\n\r\n      productData.append(\r\n        \"ingredients\",\r\n        JSON.stringify(formData.ingredients.split(\"\\n\").filter(Boolean))\r\n      );\r\n      productData.append(\r\n        \"usage_instructions\",\r\n        JSON.stringify(formData.usage_instructions.split(\"\\n\").filter(Boolean))\r\n      );\r\n      productData.append(\r\n        \"special\",\r\n        JSON.stringify(formData.special.split(\"\\n\").filter(Boolean))\r\n      );\r\n\r\n      formData.images.forEach((file) => {\r\n        productData.append(\"images\", file);\r\n      });\r\n\r\n      // Debug log\r\n      console.log(\"FormData gửi đi:\");\r\n      for (const [key, value] of productData.entries()) {\r\n        console.log(`${key}:`, value);\r\n      }\r\n\r\n      const response = await fetch(\"https://api-zeal.onrender.com/api/products\", {\r\n        method: \"POST\",\r\n        body: productData,\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(\"✅ Sản phẩm đã được thêm thành công!\");\r\n        setFormData({\r\n          name: \"\",\r\n          price: \"\",\r\n          discountPrice: \"\",\r\n          category: \"\",\r\n          description: \"\",\r\n          ingredients: \"\",\r\n          usage_instructions: \"\",\r\n          special: \"\",\r\n          stock: \"\",\r\n          images: [],\r\n        });\r\n      } else {\r\n        const errorData = await response.json();\r\n        console.error(\"Server error:\", errorData);\r\n        alert(errorData.message || \"❌ Đã xảy ra lỗi khi thêm sản phẩm.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi gửi sản phẩm:\", error);\r\n      alert(\"❌ Có lỗi xảy ra khi gửi sản phẩm.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-product-container\">\r\n      <h1>Thêm sản phẩm</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Tên sản phẩm</label>\r\n          <input type=\"text\" name=\"name\" value={formData.name} onChange={handleInputChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Giá</label>\r\n          <input type=\"number\" name=\"price\" value={formData.price} onChange={handleInputChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Giá khuyến mãi</label>\r\n          <input type=\"number\" name=\"discountPrice\" value={formData.discountPrice} onChange={handleInputChange} />\r\n        </div>\r\n        <div>\r\n          <label>Danh mục</label>\r\n          <select name=\"category\" value={formData.category} onChange={handleSelectChange} required>\r\n            <option value=\"\">-- Chọn danh mục --</option>\r\n            {categories.map((cat) => (\r\n              <option key={cat._id} value={cat._id}>{cat.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Mô tả</label>\r\n          <textarea name=\"description\" value={formData.description} onChange={handleInputChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Thành phần (mỗi dòng một mục)</label>\r\n          <textarea name=\"ingredients\" value={formData.ingredients} onChange={handleInputChange} />\r\n        </div>\r\n        <div>\r\n          <label>Hướng dẫn sử dụng (mỗi dòng một bước)</label>\r\n          <textarea name=\"usage_instructions\" value={formData.usage_instructions} onChange={handleInputChange} />\r\n        </div>\r\n        <div>\r\n          <label>Đặc điểm nổi bật (mỗi dòng một đặc điểm)</label>\r\n          <textarea name=\"special\" value={formData.special} onChange={handleInputChange} />\r\n        </div>\r\n        <div>\r\n          <label>Số lượng</label>\r\n          <input type=\"number\" name=\"stock\" value={formData.stock} onChange={handleInputChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Hình ảnh (tối đa 4 ảnh)</label>\r\n          <input type=\"file\" accept=\"image/*\" multiple onChange={handleFileChange} />\r\n          {formData.images.length > 0 && (\r\n            <ul>\r\n              {formData.images.map((img, idx) => (\r\n                <li key={idx}>{img.name}</li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n        <button type=\"submit\">Thêm sản phẩm</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}