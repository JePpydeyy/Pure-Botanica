{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/admin/category/category.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"btnAddNewCategory\": \"category-module__HfUzIW__btnAddNewCategory\",\n  \"btnCancel\": \"category-module__HfUzIW__btnCancel\",\n  \"btnEdit\": \"category-module__HfUzIW__btnEdit\",\n  \"btnRemove\": \"category-module__HfUzIW__btnRemove\",\n  \"btnSave\": \"category-module__HfUzIW__btnSave\",\n  \"categoryTable\": \"category-module__HfUzIW__categoryTable\",\n  \"categoryTableTdLast\": \"category-module__HfUzIW__categoryTableTdLast\",\n  \"containerCategory\": \"category-module__HfUzIW__containerCategory\",\n  \"editInput\": \"category-module__HfUzIW__editInput\",\n  \"formTableCategory\": \"category-module__HfUzIW__formTableCategory\",\n  \"nameTableCategory\": \"category-module__HfUzIW__nameTableCategory\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/src/app/admin/category/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./category.module.css\";\r\nimport type { Category } from \"@/app/components/category_interface\";\r\n\r\nexport default function Category() {\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const res = await fetch(\"https://api-zeal.onrender.com/api/categories\");\r\n        const data = await res.json();\r\n        // Filter out hidden categories\r\n        setCategories(data.filter((cat: Category) => !cat.isHidden));\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi tải danh sách danh mục:\", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Bạn có chắc chắn muốn xử lý danh mục này không?\")) return;\r\n\r\n    try {\r\n      // Check if the category has products\r\n      const resProducts = await fetch(`https://api-zeal.onrender.com/api/categories/${id}/products`);\r\n      const products = await resProducts.json();\r\n\r\n      if (products.length > 0) {\r\n        // Hide the category instead of deleting\r\n        const resHide = await fetch(`https://api-zeal.onrender.com/api/categories/${id}`, {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ isHidden: true }),\r\n        });\r\n\r\n        if (resHide.ok) {\r\n          setCategories((prev) => prev.filter((cat) => cat._id !== id));\r\n          alert(\"Danh mục đã được ẩn vì có sản phẩm!\");\r\n        } else {\r\n          alert(\"Ẩn danh mục thất bại!\");\r\n        }\r\n      } else {\r\n        // Delete the category if it has no products\r\n        const resDelete = await fetch(`https://api-zeal.onrender.com/api/categories/${id}`, {\r\n          method: \"DELETE\",\r\n        });\r\n\r\n        if (resDelete.ok) {\r\n          setCategories((prev) => prev.filter((cat) => cat._id !== id));\r\n          alert(\"Xóa danh mục thành công!\");\r\n        } else {\r\n          alert(\"Xóa danh mục thất bại!\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi xử lý danh mục:\", error);\r\n      alert(\"Đã xảy ra lỗi khi xử lý danh mục.\");\r\n    }\r\n  };\r\n\r\n  const handleEdit = (id: string) => {\r\n    const category = categories.find((cat) => cat._id === id);\r\n    if (category) {\r\n      setEditingCategory(category);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (id: string, updatedName: string) => {\r\n    try {\r\n      const res = await fetch(`https://api-zeal.onrender.com/api/categories/${id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ name: updatedName }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        setCategories((prev) =>\r\n          prev.map((cat) =>\r\n            cat._id === id ? { ...cat, name: updatedName } : cat\r\n          )\r\n        );\r\n        setEditingCategory(null);\r\n        alert(\"Cập nhật danh mục thành công!\");\r\n        window.location.reload();\r\n      } else {\r\n        alert(\"Cập nhật danh mục thất bại!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi cập nhật danh mục:\", error);\r\n      alert(\"Đã xảy ra lỗi khi cập nhật danh mục.\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <p className=\"text-center py-10\">Đang tải danh sách danh mục...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.containerCategory}>\r\n      <div className={styles.formTableCategory}>\r\n        <div className={styles.nameTableCategory}>\r\n          <span>Danh Mục Sản Phẩm</span>\r\n        </div>\r\n        <div className={styles.formBtnAddNewCategory}>\r\n          <button className={styles.btnAddNewCategory}>\r\n            <a href=\"/admin/add_category\">Thêm danh mục sản phẩm</a>\r\n          </button>\r\n        </div>\r\n        <table className={styles.categoryTable}>\r\n          <thead>\r\n            <tr>\r\n              <th>Tên Danh Mục</th>\r\n              <th>Hành Động</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {categories.map((category) => (\r\n              <tr key={category._id}>\r\n                <td>\r\n                  {editingCategory?._id === category._id ? (\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editingCategory.name}\r\n                      onChange={(e) =>\r\n                        setEditingCategory({\r\n                          ...editingCategory,\r\n                          name: e.target.value,\r\n                        })\r\n                      }\r\n                      className={styles.editInput}\r\n                    />\r\n                  ) : (\r\n                    category.name\r\n                  )}\r\n                </td>\r\n                <td className={styles.categoryTableTdLast}>\r\n                  {editingCategory?._id === category._id ? (\r\n                    <>\r\n                      <button\r\n                        className={styles.btnSave}\r\n                        onClick={() =>\r\n                          handleUpdate(category._id, editingCategory.name)\r\n                        }\r\n                      >\r\n                        Lưu\r\n                      </button>\r\n                      <button\r\n                        className={styles.btnCancel}\r\n                        onClick={() => setEditingCategory(null)}\r\n                      >\r\n                        Hủy\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <button\r\n                        className={styles.btnEdit}\r\n                        onClick={() => handleEdit(category._id)}\r\n                      >\r\n                        Chỉnh sửa\r\n                      </button>\r\n                      <button\r\n                        className={styles.btnRemove}\r\n                        onClick={() => handleDelete(category._id)}\r\n                      >\r\n                        Xóa\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file://D%3A/FPOLY/ky5/ASM_Next/Pure-Botanica/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}